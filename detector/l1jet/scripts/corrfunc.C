void makePlot(double low, double up){
//=========Macro generated from canvas: c/c
//=========  (Mon Jan 14 12:51:57 2013) by ROOT version5.33/03
   TCanvas *c = new TCanvas("c", "c",1547,51,800,600);
   gStyle->SetOptFit(1);
   c->Range(-10.32295,1.3125,92.90654,3.1875);
   c->SetFillColor(0);
   c->SetBorderMode(0);
   c->SetBorderSize(2);
   c->SetGridx();
   c->SetGridy();
   c->SetFrameBorderMode(0);
   c->SetFrameBorderMode(0);
   
   //TGraphErrors *gre = new TGraphErrors(27);
   TGraphErrors *gre = (TGraphErrors*)_file0->Get("ak5Intern/L3CorVsJetPt");
   gre->SetName("L3CorVsJetPt");
   gre->SetTitle("");
   gre->SetFillColor(1);
   gre->SetLineWidth(2);
   gre->SetMarkerStyle(20);
/*
   gre->SetPoint(0,6.175772,2.598312);
   gre->SetPointError(0,0.01286705,0.005066945);
   gre->SetPoint(1,8.027516,2.490255);
   gre->SetPointError(1,0.0167037,0.005011544);
   gre->SetPoint(2,9.563828,2.41029);
   gre->SetPointError(2,0.02890898,0.007056734);
   gre->SetPoint(3,11.10406,2.34127);
   gre->SetPointError(3,0.02310401,0.004805132);
   gre->SetPoint(4,13.28467,2.257917);
   gre->SetPointError(4,0.02718139,0.004557134);
   gre->SetPoint(5,15.69261,2.166166);
   gre->SetPointError(5,0.03205842,0.004353001);
   gre->SetPoint(6,18.07266,2.100884);
   gre->SetPointError(6,0.0379402,0.004387872);
   gre->SetPoint(7,20.54859,2.042892);
   gre->SetPointError(7,0.04368019,0.004316336);
   gre->SetPoint(8,22.96135,2.002863);
   gre->SetPointError(8,0.04959134,0.004297169);
   gre->SetPoint(9,25.62125,1.951025);
   gre->SetPointError(9,0.05423054,0.004112826);
   gre->SetPoint(10,28.25315,1.910697);
   gre->SetPointError(10,0.06059169,0.004079052);
   gre->SetPoint(11,30.93354,1.874063);
   gre->SetPointError(11,0.06839655,0.004129365);
   gre->SetPoint(12,33.60319,1.844547);
   gre->SetPointError(12,0.07824686,0.004273898);
   gre->SetPoint(13,36.43942,1.810701);
   gre->SetPointError(13,0.08732332,0.004326149);
   gre->SetPoint(14,39.15637,1.786927);
   gre->SetPointError(14,0.09445096,0.004298871);
   gre->SetPoint(15,42.06545,1.758895);
   gre->SetPointError(15,0.1036873,0.004321016);
   gre->SetPoint(16,45.04748,1.731381);
   gre->SetPointError(16,0.108648,0.00416398);
   gre->SetPoint(17,48.05415,1.706057);
   gre->SetPointError(17,0.116663,0.004131841);
   gre->SetPoint(18,51.08225,1.682959);
   gre->SetPointError(18,0.127034,0.004177808);
   gre->SetPoint(19,53.84239,1.670959);
   gre->SetPointError(19,0.1373914,0.004254981);
   gre->SetPoint(20,56.88104,1.651755);
   gre->SetPointError(20,0.1545702,0.004482625);
   gre->SetPoint(21,59.56655,1.644457);
   gre->SetPointError(21,0.173422,0.004781255);
   gre->SetPoint(22,62.42609,1.633248);
   gre->SetPointError(22,0.1915294,0.004999784);
   gre->SetPoint(23,65.9907,1.605955);
   gre->SetPointError(23,0.2037575,0.004950851);
   gre->SetPoint(24,69.24395,1.588507);
   gre->SetPointError(24,0.2136736,0.004894492);
   gre->SetPoint(25,72.03927,1.582499);
   gre->SetPointError(25,0.2317345,0.00508148);
   gre->SetPoint(26,75.39104,1.564962);
   gre->SetPointError(26,0.2452193,0.005084357);
  */ 
   TH1F *Graph_L3CorVsJetPt1 = new TH1F("Graph_L3CorVsJetPt1","",100,0,82.58359);
   Graph_L3CorVsJetPt1->SetMinimum(1.5);
   Graph_L3CorVsJetPt1->SetMaximum(2.5);
   Graph_L3CorVsJetPt1->SetDirectory(0);
   Graph_L3CorVsJetPt1->SetStats(0);
   Graph_L3CorVsJetPt1->SetFillStyle(0);
   Graph_L3CorVsJetPt1->SetLineStyle(0);
   Graph_L3CorVsJetPt1->SetMarkerStyle(0);
   Graph_L3CorVsJetPt1->GetXaxis()->SetTitle("<E_{T}^{L1}>");
   Graph_L3CorVsJetPt1->GetXaxis()->SetNdivisions(405);
   Graph_L3CorVsJetPt1->GetXaxis()->SetLabelFont(42);
   Graph_L3CorVsJetPt1->GetXaxis()->SetLabelOffset(0.004);
   Graph_L3CorVsJetPt1->GetXaxis()->SetLabelSize(0.045);
   Graph_L3CorVsJetPt1->GetXaxis()->SetTitleSize(0.045);
   Graph_L3CorVsJetPt1->GetXaxis()->SetTitleFont(42);
   Graph_L3CorVsJetPt1->GetYaxis()->SetTitle("<E_{T}^{L1}/E_{T}^{Gen}>^{-1}");
   Graph_L3CorVsJetPt1->GetYaxis()->SetNdivisions(405);
   Graph_L3CorVsJetPt1->GetYaxis()->SetLabelFont(42);
   Graph_L3CorVsJetPt1->GetYaxis()->SetLabelOffset(0.015);
   Graph_L3CorVsJetPt1->GetYaxis()->SetLabelSize(0.045);
   Graph_L3CorVsJetPt1->GetYaxis()->SetTitleSize(0.045);
   Graph_L3CorVsJetPt1->GetYaxis()->SetTitleFont(42);
   Graph_L3CorVsJetPt1->GetZaxis()->SetNdivisions(405);
   Graph_L3CorVsJetPt1->GetZaxis()->SetLabelFont(42);
   Graph_L3CorVsJetPt1->GetZaxis()->SetLabelOffset(0.015);
   Graph_L3CorVsJetPt1->GetZaxis()->SetLabelSize(0.055);
   Graph_L3CorVsJetPt1->GetZaxis()->SetTitleSize(0.055);
   Graph_L3CorVsJetPt1->GetZaxis()->SetTitleOffset(1.15);
   Graph_L3CorVsJetPt1->GetZaxis()->SetTitleFont(42);
   gre->SetHistogram(Graph_L3CorVsJetPt1);
   gre->SetLineColor(4);
   
   //TF1 *fitcor = new TF1("fitcor","[0]+[1]/(pow(log10(x),2)+[2])+[3]*exp(-[4]*(log10(x)-[5])*(log10(x)-[5]))",2,75.39104);
   TF1 *fitcor = ( TF1*)gre->GetFunction("fitcor");
   fitcor->SetFillColor(19);
   fitcor->SetFillStyle(0);
   fitcor->SetMarkerStyle(0);
   fitcor->SetLineWidth(2);
   fitcor->SetLineColor(4);
   fitcor->SetLineStyle(0);
   fitcor->SetChisquare(21.7422);
   fitcor->SetNDF(21);
   fitcor->GetXaxis()->SetLabelFont(42);
   fitcor->GetXaxis()->SetLabelSize(0.035);
   fitcor->GetXaxis()->SetTitleSize(0.035);
   fitcor->GetXaxis()->SetTitleFont(42);
   fitcor->GetYaxis()->SetLabelFont(42);
   fitcor->GetYaxis()->SetLabelSize(0.035);
   fitcor->GetYaxis()->SetTitleSize(0.035);
   fitcor->GetYaxis()->SetTitleFont(42);
   /*
   fitcor->SetParameter(0,0.7841565);
   fitcor->SetParError(0,0.124618);
   fitcor->SetParLimits(0,0,0);
   fitcor->SetParameter(1,4.330917);
   fitcor->SetParError(1,1.041982);
   fitcor->SetParLimits(1,0,0);
   fitcor->SetParameter(2,2.671967);
   fitcor->SetParError(2,0.1514644);
   fitcor->SetParLimits(2,0,0);
   fitcor->SetParameter(3,0.574269);
   fitcor->SetParError(3,0.1958894);
   fitcor->SetParLimits(3,0,0);
   fitcor->SetParameter(4,0.8810926);
   fitcor->SetParError(4,0.1000768);
   fitcor->SetParLimits(4,0,0);
   fitcor->SetParameter(5,0.4084673);
   fitcor->SetParError(5,0.04852769);
   fitcor->SetParLimits(5,0,0);
   gre->GetListOfFunctions()->Add(fitcor);
*/
   
   TPaveStats *ptstats = new TPaveStats(0.6055276,0.5559441,0.9798995,0.9353147,"brNDC");
   ptstats->SetName("stats");
   ptstats->SetBorderSize(1);
   ptstats->SetFillColor(0);
   ptstats->SetTextAlign(12);
   ptstats->SetTextFont(42);
/*
   TText *text = ptstats->AddText("#chi^{2} / ndf = 21.74 / 21");
   text = ptstats->AddText("Prob  = 0.4145");
   text = ptstats->AddText("p0       = 0.7842 #pm 0.1246 ");
   text = ptstats->AddText("p1       = 4.331 #pm 1.042 ");
   text = ptstats->AddText("p2       = 2.672 #pm 0.1515 ");
   text = ptstats->AddText("p3       = 0.5743 #pm 0.1959 ");
   text = ptstats->AddText("p4       = 0.8811 #pm 0.1001 ");
   text = ptstats->AddText("p5       = 0.4085 #pm 0.04853 ");
   ptstats->SetOptStat(0);
   ptstats->SetOptFit(1111);
   ptstats->Draw();
   gre->GetListOfFunctions()->Add(ptstats);
   ptstats->SetParent(gre->GetListOfFunctions());
*/
gStyle->SetOptStat(1111);
   gre->Draw("ap");
   gre->GetXaxis()->SetRangeUser(0,60);
   gre->Draw("samep");
      tex = new TLatex(0.1,0.91,Form("%.3f < |#eta^{Gen}| < %.3f",low,up));
tex->SetNDC();
   tex->SetTextFont(42);
   tex->SetTextSize(0.04);
   tex->SetLineWidth(2);
   tex->Draw();
   c->Modified();
   c->cd();
   c->SetSelected(c);
   c->SaveAs(Form("correctionPlots/l3_%.3f_to_%.3f.pdf",low,up));
}
